{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\project\\\\ecommerce-spring-reactjs-master\\\\frontend\\\\src\\\\pages\\\\Menu\\\\Menu.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Route, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Checkbox from \"../../component/CheckBox/Checkbox\";\nimport CheckboxRadio from \"../../component/CheckboxRadio/CheckboxRadio\";\nimport MenuCards from \"../../component/MenuCards/MenuCards\";\nimport { gender, perfumer, price } from \"./MenuData\";\nimport { fetchPerfumes, fetchPerfumesByFilterParams, fetchPerfumesByGender, fetchPerfumesByPerfumer } from \"../../redux/thunks/perfume-thunks\";\nimport \"./MenuStyle.css\";\nimport ScrollButton from \"../../component/ScrollButton/ScrollButton\";\n\nconst Menu = () => {\n  const dispatch = useDispatch();\n  const perfumes = useSelector(state => state.perfume.perfumes);\n  const loading = useSelector(state => state.perfume.isPerfumeLoading);\n  const [filterParams, setFilterParams] = useState({\n    perfumers: [],\n    genders: [],\n    prices: []\n  });\n  const [sortByPrice, setSortByPrice] = useState();\n  const {\n    state\n  } = useLocation();\n  useEffect(() => {\n    const perfumeData = state.id;\n\n    if (perfumeData === \"female\" || perfumeData === \"male\") {\n      dispatch(fetchPerfumesByGender({\n        perfumeGender: perfumeData\n      }));\n      window.scrollTo(0, 0);\n    } else if (perfumeData === \"all\") {\n      dispatch(fetchPerfumes());\n      window.scrollTo(0, 0);\n    } else {\n      dispatch(fetchPerfumesByPerfumer({\n        perfumer: perfumeData\n      }));\n      window.scrollTo(0, 0);\n    }\n  }, []);\n\n  const getProducts = variables => {\n    dispatch(fetchPerfumesByFilterParams(variables));\n  };\n\n  const handlePrice = value => {\n    let find = price.find(item => item.id == value);\n    return find.array;\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = filterParams;\n    newFilters[category] = filters;\n\n    if (category === \"prices\") {\n      let priceValues = handlePrice(filters);\n      newFilters[category] = priceValues;\n    }\n\n    getProducts({ ...newFilters,\n      sortByPrice\n    });\n    setFilterParams(newFilters);\n  };\n\n  const handleSortByPrice = (sortedBy, event) => {\n    event.preventDefault();\n    setSortByPrice(sortedBy);\n    getProducts({ ...filterParams,\n      sortByPrice: sortedBy\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ScrollButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"nav\", {\n    id: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Perfumes\")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-unstyled components\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Brand\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"active mb-2\",\n    id: \"homeSubmenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    list: perfumer,\n    handleFilters: filters => handleFilters(filters, \"perfumers\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"active mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    list: gender,\n    handleFilters: filters => handleFilters(filters, \"genders\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"active mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CheckboxRadio, {\n    list: price,\n    handleFilters: filters => handleFilters(filters, \"prices\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    component: () => /*#__PURE__*/React.createElement(MenuCards, {\n      data: perfumes,\n      loading: loading,\n      itemsPerPage: 16,\n      searchByData: [{\n        label: 'Brand',\n        value: 'perfumer'\n      }, {\n        label: 'Perfume title',\n        value: 'perfumeTitle'\n      }, {\n        label: 'Manufacturer country',\n        value: 'country'\n      }],\n      sortByPrice: sortByPrice,\n      handleSortByPrice: handleSortByPrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Menu;","map":{"version":3,"sources":["C:/Users/HP/Desktop/project/ecommerce-spring-reactjs-master/frontend/src/pages/Menu/Menu.tsx"],"names":["React","useEffect","useState","Route","useLocation","useDispatch","useSelector","Checkbox","CheckboxRadio","MenuCards","gender","perfumer","price","fetchPerfumes","fetchPerfumesByFilterParams","fetchPerfumesByGender","fetchPerfumesByPerfumer","ScrollButton","Menu","dispatch","perfumes","state","perfume","loading","isPerfumeLoading","filterParams","setFilterParams","perfumers","genders","prices","sortByPrice","setSortByPrice","perfumeData","id","perfumeGender","window","scrollTo","getProducts","variables","handlePrice","value","find","item","array","handleFilters","filters","category","newFilters","priceValues","handleSortByPrice","sortedBy","event","preventDefault","label"],"mappings":";AAAA,OAAOA,KAAP,IAAmBC,SAAnB,EAA8BC,QAA9B,QAA6C,OAA7C;AACA,SAAQC,KAAR,EAAeC,WAAf,QAAiC,kBAAjC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AAEA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,aAAP,MAA0B,6CAA1B;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,SAAQC,MAAR,EAAgBC,QAAhB,EAA0BC,KAA1B,QAAsC,YAAtC;AACA,SACIC,aADJ,EAEIC,2BAFJ,EAGIC,qBAHJ,EAIIC,uBAJJ,QAKO,mCALP;AAMA,OAAO,iBAAP;AAGA,OAAOC,YAAP,MAAyB,2CAAzB;;AAEA,MAAMC,IAAQ,GAAG,MAAM;AACnB,QAAMC,QAAQ,GAAGd,WAAW,EAA5B;AACA,QAAMe,QAAwB,GAAGd,WAAW,CAAEe,KAAD,IAAyBA,KAAK,CAACC,OAAN,CAAcF,QAAxC,CAA5C;AACA,QAAMG,OAAgB,GAAGjB,WAAW,CAAEe,KAAD,IAAyBA,KAAK,CAACC,OAAN,CAAcE,gBAAxC,CAApC;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCxB,QAAQ,CAAmB;AAC/DyB,IAAAA,SAAS,EAAE,EADoD;AAE/DC,IAAAA,OAAO,EAAE,EAFsD;AAG/DC,IAAAA,MAAM,EAAE;AAHuD,GAAnB,CAAhD;AAKA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC7B,QAAQ,EAA9C;AACA,QAAM;AAACmB,IAAAA;AAAD,MAAUjB,WAAW,EAA3B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM+B,WAAmB,GAAGX,KAAK,CAACY,EAAlC;;AAEA,QAAID,WAAW,KAAK,QAAhB,IAA4BA,WAAW,KAAK,MAAhD,EAAwD;AACpDb,MAAAA,QAAQ,CAACJ,qBAAqB,CAAC;AAACmB,QAAAA,aAAa,EAAEF;AAAhB,OAAD,CAAtB,CAAR;AACAG,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,KAHD,MAGO,IAAIJ,WAAW,KAAK,KAApB,EAA2B;AAC9Bb,MAAAA,QAAQ,CAACN,aAAa,EAAd,CAAR;AACAsB,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,KAHM,MAGA;AACHjB,MAAAA,QAAQ,CAACH,uBAAuB,CAAC;AAACL,QAAAA,QAAQ,EAAEqB;AAAX,OAAD,CAAxB,CAAR;AACAG,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH;AACJ,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAMC,WAAW,GAAIC,SAAD,IAAuC;AACvDnB,IAAAA,QAAQ,CAACL,2BAA2B,CAACwB,SAAD,CAA5B,CAAR;AACH,GAFD;;AAIA,QAAMC,WAAW,GAAIC,KAAD,IAAkC;AAClD,QAAIC,IAAI,GAAG7B,KAAK,CAAC6B,IAAN,CAAYC,IAAD,IAAUA,IAAI,CAACT,EAAL,IAAWO,KAAhC,CAAX;AACA,WAAOC,IAAI,CAAEE,KAAb;AACH,GAHD;;AAKA,QAAMC,aAAa,GAAG,CAACC,OAAD,EAAkCC,QAAlC,KAA6D;AAC/E,UAAMC,UAAe,GAAGtB,YAAxB;AACAsB,IAAAA,UAAU,CAACD,QAAD,CAAV,GAAuBD,OAAvB;;AAEA,QAAIC,QAAQ,KAAK,QAAjB,EAA2B;AACvB,UAAIE,WAAW,GAAGT,WAAW,CAACM,OAAD,CAA7B;AACAE,MAAAA,UAAU,CAACD,QAAD,CAAV,GAAuBE,WAAvB;AACH;;AACDX,IAAAA,WAAW,CAAC,EAAC,GAAGU,UAAJ;AAAgBjB,MAAAA;AAAhB,KAAD,CAAX;AACAJ,IAAAA,eAAe,CAACqB,UAAD,CAAf;AACH,GAVD;;AAYA,QAAME,iBAAiB,GAAG,CAACC,QAAD,EAAoBC,KAApB,KAAqF;AAC3GA,IAAAA,KAAK,CAACC,cAAN;AAEArB,IAAAA,cAAc,CAACmB,QAAD,CAAd;AACAb,IAAAA,WAAW,CAAC,EAAC,GAAGZ,YAAJ;AAAkBK,MAAAA,WAAW,EAAEoB;AAA/B,KAAD,CAAX;AACH,GALD;;AAOA,sBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,eAII;AAAI,IAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAI,IAAA,SAAS,EAAC,aAAd;AAA4B,IAAA,EAAE,EAAC,aAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEvC,QAAhB;AACU,IAAA,aAAa,EAAGkC,OAAD,IAAaD,aAAa,CAACC,OAAD,EAAU,WAAV,CADnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEnC,MAAhB;AACU,IAAA,aAAa,EAAGmC,OAAD,IAAaD,aAAa,CAACC,OAAD,EAAU,SAAV,CADnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAXJ,eAYI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAEjC,KAArB;AACe,IAAA,aAAa,EAAGiC,OAAD,IAAaD,aAAa,CAACC,OAAD,EAAU,QAAV,CADxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZJ,CAJJ,CAFJ,eAwBI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,SAAS,EAAE,mBACpB,oBAAC,SAAD;AACI,MAAA,IAAI,EAAEzB,QADV;AAEI,MAAA,OAAO,EAAEG,OAFb;AAGI,MAAA,YAAY,EAAE,EAHlB;AAII,MAAA,YAAY,EAAE,CACV;AAAC8B,QAAAA,KAAK,EAAE,OAAR;AAAiBb,QAAAA,KAAK,EAAE;AAAxB,OADU,EAEV;AAACa,QAAAA,KAAK,EAAE,eAAR;AAAyBb,QAAAA,KAAK,EAAE;AAAhC,OAFU,EAGV;AAACa,QAAAA,KAAK,EAAE,sBAAR;AAAgCb,QAAAA,KAAK,EAAE;AAAvC,OAHU,CAJlB;AAQI,MAAA,WAAW,EAAEV,WARjB;AASI,MAAA,iBAAiB,EAAEmB,iBATvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBJ,CADJ;AAsCH,CA7FD;;AA+FA,eAAe/B,IAAf","sourcesContent":["import React, {FC, useEffect, useState} from \"react\";\nimport {Route, useLocation} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport Checkbox from \"../../component/CheckBox/Checkbox\";\nimport CheckboxRadio from \"../../component/CheckboxRadio/CheckboxRadio\";\nimport MenuCards from \"../../component/MenuCards/MenuCards\";\nimport {gender, perfumer, price} from \"./MenuData\";\nimport {\n    fetchPerfumes,\n    fetchPerfumesByFilterParams,\n    fetchPerfumesByGender,\n    fetchPerfumesByPerfumer\n} from \"../../redux/thunks/perfume-thunks\";\nimport \"./MenuStyle.css\";\nimport {AppStateType} from \"../../redux/reducers/root-reducer\";\nimport {FilterParamsType, Perfume} from \"../../types/types\";\nimport ScrollButton from \"../../component/ScrollButton/ScrollButton\";\n\nconst Menu: FC = () => {\n    const dispatch = useDispatch();\n    const perfumes: Array<Perfume> = useSelector((state: AppStateType) => state.perfume.perfumes);\n    const loading: boolean = useSelector((state: AppStateType) => state.perfume.isPerfumeLoading);\n    const [filterParams, setFilterParams] = useState<FilterParamsType>({\n        perfumers: [],\n        genders: [],\n        prices: []\n    });\n    const [sortByPrice, setSortByPrice] = useState<boolean>();\n    const {state} = useLocation<{ id: string }>();\n\n    useEffect(() => {\n        const perfumeData: string = state.id;\n\n        if (perfumeData === \"female\" || perfumeData === \"male\") {\n            dispatch(fetchPerfumesByGender({perfumeGender: perfumeData}));\n            window.scrollTo(0, 0);\n        } else if (perfumeData === \"all\") {\n            dispatch(fetchPerfumes());\n            window.scrollTo(0, 0);\n        } else {\n            dispatch(fetchPerfumesByPerfumer({perfumer: perfumeData}));\n            window.scrollTo(0, 0);\n        }\n    }, []);\n\n    const getProducts = (variables: FilterParamsType): void => {\n        dispatch(fetchPerfumesByFilterParams(variables));\n    };\n\n    const handlePrice = (value: number): Array<number> => {\n        let find = price.find((item) => item.id == value);\n        return find!.array;\n    };\n\n    const handleFilters = (filters: Array<string> | number, category: string): void => {\n        const newFilters: any = filterParams;\n        newFilters[category] = filters;\n\n        if (category === \"prices\") {\n            let priceValues = handlePrice(filters as number);\n            newFilters[category] = priceValues;\n        }\n        getProducts({...newFilters, sortByPrice})\n        setFilterParams(newFilters);\n    };\n\n    const handleSortByPrice = (sortedBy: boolean, event: React.MouseEvent<HTMLAnchorElement, MouseEvent>): void => {\n        event.preventDefault();\n\n        setSortByPrice(sortedBy);\n        getProducts({...filterParams, sortByPrice: sortedBy});\n    };\n\n    return (\n        <div className=\"container d-flex\">\n            <ScrollButton/>\n            <nav id=\"sidebar\">\n                <div className=\"sidebar-header\">\n                    <h3>Perfumes</h3>\n                </div>\n                <ul className=\"list-unstyled components\">\n                    <h5>Brand</h5>\n                    <li className=\"active mb-2\" id=\"homeSubmenu\">\n                        <Checkbox list={perfumer}\n                                  handleFilters={(filters) => handleFilters(filters, \"perfumers\")}/>\n                    </li>\n                    <h5>Gender</h5>\n                    <li className=\"active mb-2\">\n                        <Checkbox list={gender}\n                                  handleFilters={(filters) => handleFilters(filters, \"genders\")}/>\n                    </li>\n                    <h5>Price</h5>\n                    <li className=\"active mb-2\">\n                        <CheckboxRadio list={price}\n                                       handleFilters={(filters) => handleFilters(filters, \"prices\")}/>\n                    </li>\n                </ul>\n            </nav>\n            <Route exact component={() =>\n                <MenuCards\n                    data={perfumes}\n                    loading={loading}\n                    itemsPerPage={16}\n                    searchByData={[\n                        {label: 'Brand', value: 'perfumer'},\n                        {label: 'Perfume title', value: 'perfumeTitle'},\n                        {label: 'Manufacturer country', value: 'country'}]}\n                    sortByPrice={sortByPrice}\n                    handleSortByPrice={handleSortByPrice}/>}/>\n        </div>\n    );\n};\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}