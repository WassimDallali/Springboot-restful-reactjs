{"ast":null,"code":"import { useEffect, useState } from 'react';\n\nconst usePagination = ({\n  itemsPerPage,\n  data,\n  startFrom\n}) => {\n  const [searching, setSearching] = useState(false);\n  const [filteredData, setFilteredData] = useState(data);\n  const perPage = itemsPerPage ? itemsPerPage : 12;\n  const pages = Math.ceil(filteredData.length / perPage);\n  const pagination = [];\n  const [currentPage, setCurrentPage] = useState(startFrom <= pages ? startFrom : 1);\n  const [slicedData, setSlicedData] = useState([...filteredData].slice((currentPage - 1) * perPage, currentPage * perPage));\n  useEffect(() => {\n    setSlicedData([...filteredData].slice((currentPage - 1) * perPage, currentPage * perPage));\n\n    if (searching) {\n      setCurrentPage(1);\n      setSearching(false);\n    }\n  }, [filteredData, currentPage]);\n  let ellipsisLeft = false;\n  let ellipsisRight = false;\n\n  for (let i = 1; i <= pages; i++) {\n    if (i === currentPage) {\n      pagination.push({\n        id: i,\n        current: true,\n        ellipsis: false\n      });\n    } else {\n      if (i < 2 || i > pages - 1 || i === currentPage - 1 || i === currentPage + 1) {\n        pagination.push({\n          id: i,\n          current: false,\n          ellipsis: false\n        });\n      } else if (i > 1 && i < currentPage && !ellipsisLeft) {\n        pagination.push({\n          id: i,\n          current: false,\n          ellipsis: true\n        });\n        ellipsisLeft = true;\n      } else if (i < pages && i > currentPage && !ellipsisRight) {\n        pagination.push({\n          id: i,\n          current: false,\n          ellipsis: true\n        });\n        ellipsisRight = true;\n      }\n    }\n  }\n\n  const changePage = (page, event) => {\n    event.preventDefault();\n\n    if (page !== currentPage) {\n      setCurrentPage(page);\n      setSlicedData([...filteredData].slice((page - 1) * perPage, page * perPage));\n    }\n  };\n\n  const goToPrevPage = event => {\n    event.preventDefault();\n    setCurrentPage(prevVal => prevVal - 1 === 0 ? prevVal : prevVal - 1);\n\n    if (currentPage !== 1) {\n      setSlicedData([...filteredData].slice((currentPage - 2) * perPage, (currentPage - 1) * perPage));\n    }\n  };\n\n  const goToNextPage = event => {\n    event.preventDefault();\n    setCurrentPage(prevVal => prevVal === pages ? prevVal : prevVal + 1);\n\n    if (currentPage !== pages) {\n      setSlicedData([...filteredData].slice(currentPage * perPage, (currentPage + 1) * perPage));\n    }\n  };\n\n  return {\n    slicedData,\n    pagination,\n    prevPage: goToPrevPage,\n    nextPage: goToNextPage,\n    changePage,\n    setFilteredData,\n    setSearching\n  };\n};\n\nexport default usePagination;","map":{"version":3,"sources":["C:/Users/HP/Desktop/project/ecommerce-spring-reactjs-master/frontend/src/component/Pagination/usePagination.tsx"],"names":["useEffect","useState","usePagination","itemsPerPage","data","startFrom","searching","setSearching","filteredData","setFilteredData","perPage","pages","Math","ceil","length","pagination","currentPage","setCurrentPage","slicedData","setSlicedData","slice","ellipsisLeft","ellipsisRight","i","push","id","current","ellipsis","changePage","page","event","preventDefault","goToPrevPage","prevVal","goToNextPage","prevPage","nextPage"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\n\nexport type Pagination = {\n    id: number\n    current: boolean\n    ellipsis: boolean\n};\n\nconst usePagination: ({itemsPerPage, data, startFrom}: { itemsPerPage: number, data: Array<any>, startFrom: any }) => {\n    pagination: Array<Pagination>;\n    changePage: (page: number, event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void;\n    setFilteredData: (value: (((prevState: Array<any>) => Array<any>) | Array<any>)) => void;\n    nextPage: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void;\n    setSearching: (value: (((prevState: boolean) => boolean) | boolean)) => void;\n    slicedData: Array<any>;\n    prevPage: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void\n} = ({itemsPerPage, data, startFrom}) => {\n\n    const [searching, setSearching] = useState<boolean>(false);\n    const [filteredData, setFilteredData] = useState<Array<any>>(data);\n    const perPage: number = itemsPerPage ? itemsPerPage : 12;\n    const pages: number = Math.ceil(filteredData.length / perPage);\n    const pagination: Array<Pagination> = [];\n    const [currentPage, setCurrentPage] = useState<number>(startFrom <= pages ? startFrom : 1);\n    const [slicedData, setSlicedData] = useState<Array<any>>([...filteredData].slice((currentPage - 1) * perPage, currentPage * perPage));\n\n    useEffect(() => {\n        setSlicedData([...filteredData].slice((currentPage - 1) * perPage, currentPage * perPage));\n\n        if (searching) {\n            setCurrentPage(1);\n            setSearching(false);\n        }\n    }, [filteredData, currentPage]);\n\n    let ellipsisLeft: boolean = false;\n    let ellipsisRight: boolean = false;\n\n    for (let i = 1; i <= pages; i++) {\n        if (i === currentPage) {\n            pagination.push(\n                {id: i, current: true, ellipsis: false}\n            );\n        } else {\n            if (i < 2 || i > pages - 1 || i === currentPage - 1 || i === currentPage + 1) {\n                pagination.push(\n                    {id: i, current: false, ellipsis: false}\n                );\n            } else if (i > 1 && i < currentPage && !ellipsisLeft) {\n                pagination.push(\n                    {id: i, current: false, ellipsis: true}\n                );\n                ellipsisLeft = true;\n            } else if (i < pages && i > currentPage && !ellipsisRight) {\n                pagination.push(\n                    {id: i, current: false, ellipsis: true}\n                );\n                ellipsisRight = true;\n            }\n        }\n    }\n\n    const changePage = (page: number, event: React.MouseEvent<HTMLAnchorElement, MouseEvent>): void => {\n        event.preventDefault();\n\n        if (page !== currentPage) {\n            setCurrentPage(page);\n            setSlicedData([...filteredData].slice((page - 1) * perPage, page * perPage));\n        }\n    };\n\n    const goToPrevPage = (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>): void => {\n        event.preventDefault();\n\n        setCurrentPage(prevVal => prevVal - 1 === 0 ? prevVal : prevVal - 1);\n\n        if (currentPage !== 1) {\n            setSlicedData([...filteredData].slice((currentPage - 2) * perPage, (currentPage - 1) * perPage));\n        }\n    };\n\n    const goToNextPage = (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>): void => {\n        event.preventDefault();\n\n        setCurrentPage(prevVal => prevVal === pages ? prevVal : prevVal + 1);\n\n        if (currentPage !== pages) {\n            setSlicedData([...filteredData].slice(currentPage * perPage, (currentPage + 1) * perPage));\n        }\n    };\n\n    return {\n        slicedData,\n        pagination,\n        prevPage: goToPrevPage,\n        nextPage: goToNextPage,\n        changePage,\n        setFilteredData,\n        setSearching\n    };\n};\n\nexport default usePagination;\n"]},"metadata":{},"sourceType":"module"}