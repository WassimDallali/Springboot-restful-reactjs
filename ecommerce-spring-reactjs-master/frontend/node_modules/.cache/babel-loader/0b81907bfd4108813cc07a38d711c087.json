{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\project\\\\ecommerce-spring-reactjs-master\\\\frontend\\\\src\\\\pages\\\\Account\\\\EditPerfume\\\\EditPerfume.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport { fetchPerfume, fetchPerfumes } from \"../../../redux/thunks/perfume-thunks\";\nimport { formReset, updatePerfume } from \"../../../redux/thunks/admin-thunks\";\nimport ToastShow from \"../../../component/Toasts/ToastShow\";\n\nconst EditPerfume = ({\n  match\n}) => {\n  const dispatch = useDispatch();\n  const perfumeData = useSelector(state => state.perfume.perfume);\n  const errors = useSelector(state => state.admin.errors);\n  const isPerfumeEdited = useSelector(state => state.admin.isPerfumeEdited);\n  const [perfume, setPerfume] = useState(perfumeData);\n  const [showToast, setShowToast] = useState(false);\n  const {\n    perfumeTitleError,\n    perfumerError,\n    yearError,\n    countryError,\n    typeError,\n    volumeError,\n    perfumeGenderError,\n    fragranceTopNotesError,\n    fragranceMiddleNotesError,\n    fragranceBaseNotesError,\n    priceError\n  } = errors;\n  const {\n    id,\n    perfumeTitle,\n    perfumer,\n    year,\n    country,\n    type,\n    volume,\n    perfumeGender,\n    fragranceTopNotes,\n    fragranceMiddleNotes,\n    fragranceBaseNotes,\n    price,\n    filename,\n    file\n  } = perfume;\n  useEffect(() => {\n    dispatch(fetchPerfume(match.params.id));\n  }, []);\n  useEffect(() => {\n    setPerfume(perfumeData);\n\n    if (isPerfumeEdited) {\n      setShowToast(true);\n      setTimeout(() => {\n        setShowToast(false);\n        dispatch(formReset());\n      }, 5000);\n      window.scrollTo(0, 0);\n      dispatch(fetchPerfumes());\n    }\n  }, [perfumeData]);\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n    const bodyFormData = new FormData();\n    bodyFormData.append(\"file\", file);\n    bodyFormData.append(\"perfume\", new Blob([JSON.stringify({\n      id,\n      perfumeTitle,\n      perfumer,\n      year,\n      country,\n      type,\n      volume,\n      perfumeGender,\n      fragranceTopNotes,\n      fragranceMiddleNotes,\n      fragranceBaseNotes,\n      filename,\n      price\n    })], {\n      type: \"application/json\"\n    }));\n    dispatch(updatePerfume(bodyFormData));\n  };\n\n  const handleFileChange = event => {\n    const {\n      name,\n      files\n    } = event.target;\n\n    if (files) {\n      setPerfume({ ...perfume,\n        [name]: files[0]\n      });\n    }\n  };\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setPerfume({ ...perfume,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ToastShow, {\n    showToast: showToast,\n    message: \"Perfume successfully edited!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"mr-2\",\n    icon: faEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }), \"Edit perfume\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, \"Perfume title: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: perfumeTitleError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"perfumeTitle\",\n    value: perfumeTitle,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }, perfumeTitleError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }, \"Brand: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: perfumerError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"perfumer\",\n    value: perfumer,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }, perfumerError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, \"Release year: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: yearError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"year\",\n    value: year,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, yearError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, \"Country: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: countryError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"country\",\n    value: country,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 37\n    }\n  }, countryError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 33\n    }\n  }, \"Perfume type: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"type\",\n    className: typeError ? \"form-control is-invalid\" : \"form-control\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, perfumeData.type === \"Eau de Parfum\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: perfumeData.type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 49\n    }\n  }, perfumeData.type), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Eau de Toilette\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 49\n    }\n  }, \"Eau de Toilette\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: perfumeData.type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 49\n    }\n  }, perfumeData.type), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Eau de Parfum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 49\n    }\n  }, \"Eau de Parfum\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 37\n    }\n  }, typeError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  }, \"Volume: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: volumeError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"volume\",\n    value: volume,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }, volumeError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 33\n    }\n  }, \"Gender: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"perfumeGender\",\n    className: perfumeGenderError ? \"form-control is-invalid\" : \"form-control\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 37\n    }\n  }, perfumeData.perfumeGender === \"male\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: perfumeData.perfumeGender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 49\n    }\n  }, perfumeData.perfumeGender), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 49\n    }\n  }, \"female\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    value: perfumeData.perfumeGender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 49\n    }\n  }, perfumeData.perfumeGender), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 49\n    }\n  }, \"male\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 37\n    }\n  }, perfumeGenderError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }, \"Top notes: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: fragranceTopNotesError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"fragranceTopNotes\",\n    value: fragranceTopNotes,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 37\n    }\n  }, fragranceTopNotesError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 33\n    }\n  }, \"Heart notes: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: fragranceMiddleNotesError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"fragranceMiddleNotes\",\n    value: fragranceMiddleNotes,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 37\n    }\n  }, fragranceMiddleNotesError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 33\n    }\n  }, \"Base notes: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: fragranceBaseNotesError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"fragranceBaseNotes\",\n    value: fragranceBaseNotes,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 37\n    }\n  }, fragranceBaseNotesError))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 33\n    }\n  }, \"Price: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: priceError ? \"form-control is-invalid\" : \"form-control\",\n    name: \"price\",\n    value: price,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 37\n    }\n  }, priceError)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: filename,\n    className: \"rounded mx-auto w-100 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"mr-2\",\n    icon: faEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 25\n    }\n  }), \"Edit\"))));\n};\n\nexport default EditPerfume;","map":{"version":3,"sources":["C:/Users/HP/Desktop/project/ecommerce-spring-reactjs-master/frontend/src/pages/Account/EditPerfume/EditPerfume.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","FontAwesomeIcon","faEdit","fetchPerfume","fetchPerfumes","formReset","updatePerfume","ToastShow","EditPerfume","match","dispatch","perfumeData","state","perfume","errors","admin","isPerfumeEdited","setPerfume","showToast","setShowToast","perfumeTitleError","perfumerError","yearError","countryError","typeError","volumeError","perfumeGenderError","fragranceTopNotesError","fragranceMiddleNotesError","fragranceBaseNotesError","priceError","id","perfumeTitle","perfumer","year","country","type","volume","perfumeGender","fragranceTopNotes","fragranceMiddleNotes","fragranceBaseNotes","price","filename","file","params","setTimeout","window","scrollTo","onFormSubmit","event","preventDefault","bodyFormData","FormData","append","Blob","JSON","stringify","handleFileChange","name","files","target","handleInputChange","value"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, FC, FormEvent, useEffect, useState} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faEdit} from \"@fortawesome/free-solid-svg-icons\";\nimport {RouteComponentProps} from 'react-router-dom';\n\nimport {fetchPerfume, fetchPerfumes} from \"../../../redux/thunks/perfume-thunks\";\nimport {formReset, updatePerfume} from \"../../../redux/thunks/admin-thunks\";\nimport {AppStateType} from \"../../../redux/reducers/root-reducer\";\nimport {Perfume, PerfumeErrors} from \"../../../types/types\";\nimport ToastShow from \"../../../component/Toasts/ToastShow\";\n\nconst EditPerfume: FC<RouteComponentProps<{ id: string }>> = ({match}) => {\n    const dispatch = useDispatch();\n    const perfumeData: Partial<Perfume> = useSelector((state: AppStateType) => state.perfume.perfume);\n    const errors: Partial<PerfumeErrors> = useSelector((state: AppStateType) => state.admin.errors);\n    const isPerfumeEdited: boolean = useSelector((state: AppStateType) => state.admin.isPerfumeEdited);\n    const [perfume, setPerfume] = useState<Partial<Perfume>>(perfumeData);\n    const [showToast, setShowToast] = useState(false);\n\n    const {\n        perfumeTitleError,\n        perfumerError,\n        yearError,\n        countryError,\n        typeError,\n        volumeError,\n        perfumeGenderError,\n        fragranceTopNotesError,\n        fragranceMiddleNotesError,\n        fragranceBaseNotesError,\n        priceError\n    } = errors;\n\n    const {\n        id,\n        perfumeTitle,\n        perfumer,\n        year,\n        country,\n        type,\n        volume,\n        perfumeGender,\n        fragranceTopNotes,\n        fragranceMiddleNotes,\n        fragranceBaseNotes,\n        price,\n        filename,\n        file\n    } = perfume;\n\n    useEffect(() => {\n        dispatch(fetchPerfume(match.params.id));\n    }, []);\n\n    useEffect(() => {\n        setPerfume(perfumeData);\n        if (isPerfumeEdited) {\n            setShowToast(true);\n            setTimeout(() => {\n                setShowToast(false)\n                dispatch(formReset());\n            }, 5000);\n            window.scrollTo(0, 0);\n            dispatch(fetchPerfumes());\n        }\n    }, [perfumeData]);\n\n    const onFormSubmit = (event: FormEvent<HTMLFormElement>): void => {\n        event.preventDefault();\n\n        const bodyFormData: FormData = new FormData();\n        bodyFormData.append(\"file\", file);\n        bodyFormData.append(\"perfume\", new Blob([JSON.stringify({\n            id,\n            perfumeTitle,\n            perfumer,\n            year,\n            country,\n            type,\n            volume,\n            perfumeGender,\n            fragranceTopNotes,\n            fragranceMiddleNotes,\n            fragranceBaseNotes,\n            filename,\n            price\n        })], {type: \"application/json\"}));\n\n        dispatch(updatePerfume(bodyFormData));\n    };\n\n    const handleFileChange = (event: ChangeEvent<HTMLInputElement>): void => {\n        const {name, files} = event.target;\n        if (files) {\n            setPerfume({...perfume, [name]: files[0]});\n        }\n    };\n\n    const handleInputChange = (event: ChangeEvent<HTMLInputElement> | ChangeEvent<HTMLSelectElement>): void => {\n        const {name, value} = event.target;\n        setPerfume({...perfume, [name]: value});\n    };\n\n    return (\n        <>\n            <ToastShow showToast={showToast} message={\"Perfume successfully edited!\"}/>\n            <div className=\"container\">\n                <h4><FontAwesomeIcon className=\"mr-2\" icon={faEdit}/>Edit perfume</h4>\n                <form onSubmit={onFormSubmit}>\n                    <div className=\"row mt-5\">\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Perfume title: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={perfumeTitleError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"perfumeTitle\"\n                                        value={perfumeTitle}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{perfumeTitleError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Brand: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={perfumerError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"perfumer\"\n                                        value={perfumer}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{perfumerError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Release year: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={yearError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"year\"\n                                        value={year}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{yearError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Country: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={countryError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"country\"\n                                        value={country}\n                                        onChange={handleInputChange}/>\n\n                                    <div className=\"invalid-feedback\">{countryError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Perfume type: </label>\n                                <div className=\"col-sm-8\">\n                                    <select name=\"type\"\n                                            className={typeError ? \"form-control is-invalid\" : \"form-control\"}\n                                            onChange={handleInputChange}>\n                                        {perfumeData.type === \"Eau de Parfum\" ?\n                                            <>\n                                                <option value={perfumeData.type}>{perfumeData.type}</option>\n                                                <option value=\"Eau de Toilette\">Eau de Toilette</option>\n                                            </> :\n                                            <>\n                                                <option value={perfumeData.type}>{perfumeData.type}</option>\n                                                <option value=\"Eau de Parfum\">Eau de Parfum</option>\n                                            </>}\n                                    </select>\n                                    <div className=\"invalid-feedback\">{typeError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Volume: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={volumeError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"volume\"\n                                        value={volume}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{volumeError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Gender: </label>\n                                <div className=\"col-sm-8\">\n                                    <select name=\"perfumeGender\"\n                                            className={perfumeGenderError ? \"form-control is-invalid\" : \"form-control\"}\n                                            onChange={handleInputChange}>\n                                        {perfumeData.perfumeGender === \"male\" ?\n                                            <>\n                                                <option value={perfumeData.perfumeGender}>{perfumeData.perfumeGender}</option>\n                                                <option value=\"female\">female</option>\n                                            </> :\n                                            <>\n                                                <option value={perfumeData.perfumeGender}>{perfumeData.perfumeGender}</option>\n                                                <option value=\"male\">male</option>\n                                            </>}\n                                    </select>\n                                    <div className=\"invalid-feedback\">{perfumeGenderError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Top notes: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={fragranceTopNotesError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"fragranceTopNotes\"\n                                        value={fragranceTopNotes}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{fragranceTopNotesError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Heart notes: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={fragranceMiddleNotesError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"fragranceMiddleNotes\"\n                                        value={fragranceMiddleNotes}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{fragranceMiddleNotesError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Base notes: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={fragranceBaseNotesError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"fragranceBaseNotes\"\n                                        value={fragranceBaseNotes}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{fragranceBaseNotesError}</div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label className=\"col-sm-4 col-form-label font-weight-bold\">Price: </label>\n                                <div className=\"col-sm-8\">\n                                    <input\n                                        type=\"text\"\n                                        className={priceError ? \"form-control is-invalid\" : \"form-control\"}\n                                        name=\"price\"\n                                        value={price}\n                                        onChange={handleInputChange}/>\n                                    <div className=\"invalid-feedback\">{priceError}</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <img src={filename} className=\"rounded mx-auto w-100 mb-2\"/>\n                            <input type=\"file\" name=\"file\" onChange={handleFileChange}/>\n                        </div>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-dark\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faEdit}/>Edit\n                    </button>\n                </form>\n            </div>\n        </>\n    );\n};\n\nexport default EditPerfume;\n\n"]},"metadata":{},"sourceType":"module"}