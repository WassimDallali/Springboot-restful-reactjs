{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport objectValues from \"../polyfills/objectValues.mjs\";\nimport keyMap from \"../jsutils/keyMap.mjs\";\nimport inspect from \"../jsutils/inspect.mjs\";\nimport invariant from \"../jsutils/invariant.mjs\";\nimport naturalCompare from \"../jsutils/naturalCompare.mjs\";\nimport { print } from \"../language/printer.mjs\";\nimport { visit } from \"../language/visitor.mjs\";\nimport { isSpecifiedScalarType } from \"../type/scalars.mjs\";\nimport { isScalarType, isObjectType, isInterfaceType, isUnionType, isEnumType, isInputObjectType, isNonNullType, isListType, isNamedType, isRequiredArgument, isRequiredInputField } from \"../type/definition.mjs\";\nimport { astFromValue } from \"./astFromValue.mjs\";\nexport var BreakingChangeType = Object.freeze({\n  TYPE_REMOVED: 'TYPE_REMOVED',\n  TYPE_CHANGED_KIND: 'TYPE_CHANGED_KIND',\n  TYPE_REMOVED_FROM_UNION: 'TYPE_REMOVED_FROM_UNION',\n  VALUE_REMOVED_FROM_ENUM: 'VALUE_REMOVED_FROM_ENUM',\n  REQUIRED_INPUT_FIELD_ADDED: 'REQUIRED_INPUT_FIELD_ADDED',\n  IMPLEMENTED_INTERFACE_REMOVED: 'IMPLEMENTED_INTERFACE_REMOVED',\n  FIELD_REMOVED: 'FIELD_REMOVED',\n  FIELD_CHANGED_KIND: 'FIELD_CHANGED_KIND',\n  REQUIRED_ARG_ADDED: 'REQUIRED_ARG_ADDED',\n  ARG_REMOVED: 'ARG_REMOVED',\n  ARG_CHANGED_KIND: 'ARG_CHANGED_KIND',\n  DIRECTIVE_REMOVED: 'DIRECTIVE_REMOVED',\n  DIRECTIVE_ARG_REMOVED: 'DIRECTIVE_ARG_REMOVED',\n  REQUIRED_DIRECTIVE_ARG_ADDED: 'REQUIRED_DIRECTIVE_ARG_ADDED',\n  DIRECTIVE_REPEATABLE_REMOVED: 'DIRECTIVE_REPEATABLE_REMOVED',\n  DIRECTIVE_LOCATION_REMOVED: 'DIRECTIVE_LOCATION_REMOVED'\n});\nexport var DangerousChangeType = Object.freeze({\n  VALUE_ADDED_TO_ENUM: 'VALUE_ADDED_TO_ENUM',\n  TYPE_ADDED_TO_UNION: 'TYPE_ADDED_TO_UNION',\n  OPTIONAL_INPUT_FIELD_ADDED: 'OPTIONAL_INPUT_FIELD_ADDED',\n  OPTIONAL_ARG_ADDED: 'OPTIONAL_ARG_ADDED',\n  IMPLEMENTED_INTERFACE_ADDED: 'IMPLEMENTED_INTERFACE_ADDED',\n  ARG_DEFAULT_VALUE_CHANGE: 'ARG_DEFAULT_VALUE_CHANGE'\n});\n/**\n * Given two schemas, returns an Array containing descriptions of all the types\n * of breaking changes covered by the other functions down below.\n */\n\nexport function findBreakingChanges(oldSchema, newSchema) {\n  var breakingChanges = findSchemaChanges(oldSchema, newSchema).filter(function (change) {\n    return change.type in BreakingChangeType;\n  });\n  return breakingChanges;\n}\n/**\n * Given two schemas, returns an Array containing descriptions of all the types\n * of potentially dangerous changes covered by the other functions down below.\n */\n\nexport function findDangerousChanges(oldSchema, newSchema) {\n  var dangerousChanges = findSchemaChanges(oldSchema, newSchema).filter(function (change) {\n    return change.type in DangerousChangeType;\n  });\n  return dangerousChanges;\n}\n\nfunction findSchemaChanges(oldSchema, newSchema) {\n  return [].concat(findTypeChanges(oldSchema, newSchema), findDirectiveChanges(oldSchema, newSchema));\n}\n\nfunction findDirectiveChanges(oldSchema, newSchema) {\n  var schemaChanges = [];\n  var directivesDiff = diff(oldSchema.getDirectives(), newSchema.getDirectives());\n\n  for (var _i2 = 0, _directivesDiff$remov2 = directivesDiff.removed; _i2 < _directivesDiff$remov2.length; _i2++) {\n    var oldDirective = _directivesDiff$remov2[_i2];\n    schemaChanges.push({\n      type: BreakingChangeType.DIRECTIVE_REMOVED,\n      description: \"\".concat(oldDirective.name, \" was removed.\")\n    });\n  }\n\n  for (var _i4 = 0, _directivesDiff$persi2 = directivesDiff.persisted; _i4 < _directivesDiff$persi2.length; _i4++) {\n    var _ref2 = _directivesDiff$persi2[_i4];\n    var _oldDirective = _ref2[0];\n    var newDirective = _ref2[1];\n    var argsDiff = diff(_oldDirective.args, newDirective.args);\n\n    for (var _i6 = 0, _argsDiff$added2 = argsDiff.added; _i6 < _argsDiff$added2.length; _i6++) {\n      var newArg = _argsDiff$added2[_i6];\n\n      if (isRequiredArgument(newArg)) {\n        schemaChanges.push({\n          type: BreakingChangeType.REQUIRED_DIRECTIVE_ARG_ADDED,\n          description: \"A required arg \".concat(newArg.name, \" on directive \").concat(_oldDirective.name, \" was added.\")\n        });\n      }\n    }\n\n    for (var _i8 = 0, _argsDiff$removed2 = argsDiff.removed; _i8 < _argsDiff$removed2.length; _i8++) {\n      var oldArg = _argsDiff$removed2[_i8];\n      schemaChanges.push({\n        type: BreakingChangeType.DIRECTIVE_ARG_REMOVED,\n        description: \"\".concat(oldArg.name, \" was removed from \").concat(_oldDirective.name, \".\")\n      });\n    }\n\n    if (_oldDirective.isRepeatable && !newDirective.isRepeatable) {\n      schemaChanges.push({\n        type: BreakingChangeType.DIRECTIVE_REPEATABLE_REMOVED,\n        description: \"Repeatable flag was removed from \".concat(_oldDirective.name, \".\")\n      });\n    }\n\n    for (var _i10 = 0, _oldDirective$locatio2 = _oldDirective.locations; _i10 < _oldDirective$locatio2.length; _i10++) {\n      var location = _oldDirective$locatio2[_i10];\n\n      if (newDirective.locations.indexOf(location) === -1) {\n        schemaChanges.push({\n          type: BreakingChangeType.DIRECTIVE_LOCATION_REMOVED,\n          description: \"\".concat(location, \" was removed from \").concat(_oldDirective.name, \".\")\n        });\n      }\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findTypeChanges(oldSchema, newSchema) {\n  var schemaChanges = [];\n  var typesDiff = diff(objectValues(oldSchema.getTypeMap()), objectValues(newSchema.getTypeMap()));\n\n  for (var _i12 = 0, _typesDiff$removed2 = typesDiff.removed; _i12 < _typesDiff$removed2.length; _i12++) {\n    var oldType = _typesDiff$removed2[_i12];\n    schemaChanges.push({\n      type: BreakingChangeType.TYPE_REMOVED,\n      description: isSpecifiedScalarType(oldType) ? \"Standard scalar \".concat(oldType.name, \" was removed because it is not referenced anymore.\") : \"\".concat(oldType.name, \" was removed.\")\n    });\n  }\n\n  for (var _i14 = 0, _typesDiff$persisted2 = typesDiff.persisted; _i14 < _typesDiff$persisted2.length; _i14++) {\n    var _ref4 = _typesDiff$persisted2[_i14];\n    var _oldType = _ref4[0];\n    var newType = _ref4[1];\n\n    if (isEnumType(_oldType) && isEnumType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findEnumTypeChanges(_oldType, newType));\n    } else if (isUnionType(_oldType) && isUnionType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findUnionTypeChanges(_oldType, newType));\n    } else if (isInputObjectType(_oldType) && isInputObjectType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findInputObjectTypeChanges(_oldType, newType));\n    } else if (isObjectType(_oldType) && isObjectType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findFieldChanges(_oldType, newType).concat(findImplementedInterfacesChanges(_oldType, newType)));\n    } else if (isInterfaceType(_oldType) && isInterfaceType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findFieldChanges(_oldType, newType).concat(findImplementedInterfacesChanges(_oldType, newType)));\n    } else if (_oldType.constructor !== newType.constructor) {\n      schemaChanges.push({\n        type: BreakingChangeType.TYPE_CHANGED_KIND,\n        description: \"\".concat(_oldType.name, \" changed from \") + \"\".concat(typeKindName(_oldType), \" to \").concat(typeKindName(newType), \".\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findInputObjectTypeChanges(oldType, newType) {\n  var schemaChanges = [];\n  var fieldsDiff = diff(objectValues(oldType.getFields()), objectValues(newType.getFields()));\n\n  for (var _i16 = 0, _fieldsDiff$added2 = fieldsDiff.added; _i16 < _fieldsDiff$added2.length; _i16++) {\n    var newField = _fieldsDiff$added2[_i16];\n\n    if (isRequiredInputField(newField)) {\n      schemaChanges.push({\n        type: BreakingChangeType.REQUIRED_INPUT_FIELD_ADDED,\n        description: \"A required field \".concat(newField.name, \" on input type \").concat(oldType.name, \" was added.\")\n      });\n    } else {\n      schemaChanges.push({\n        type: DangerousChangeType.OPTIONAL_INPUT_FIELD_ADDED,\n        description: \"An optional field \".concat(newField.name, \" on input type \").concat(oldType.name, \" was added.\")\n      });\n    }\n  }\n\n  for (var _i18 = 0, _fieldsDiff$removed2 = fieldsDiff.removed; _i18 < _fieldsDiff$removed2.length; _i18++) {\n    var oldField = _fieldsDiff$removed2[_i18];\n    schemaChanges.push({\n      type: BreakingChangeType.FIELD_REMOVED,\n      description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" was removed.\")\n    });\n  }\n\n  for (var _i20 = 0, _fieldsDiff$persisted2 = fieldsDiff.persisted; _i20 < _fieldsDiff$persisted2.length; _i20++) {\n    var _ref6 = _fieldsDiff$persisted2[_i20];\n    var _oldField = _ref6[0];\n    var _newField = _ref6[1];\n    var isSafe = isChangeSafeForInputObjectFieldOrFieldArg(_oldField.type, _newField.type);\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.FIELD_CHANGED_KIND,\n        description: \"\".concat(oldType.name, \".\").concat(_oldField.name, \" changed type from \") + \"\".concat(String(_oldField.type), \" to \").concat(String(_newField.type), \".\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findUnionTypeChanges(oldType, newType) {\n  var schemaChanges = [];\n  var possibleTypesDiff = diff(oldType.getTypes(), newType.getTypes());\n\n  for (var _i22 = 0, _possibleTypesDiff$ad2 = possibleTypesDiff.added; _i22 < _possibleTypesDiff$ad2.length; _i22++) {\n    var newPossibleType = _possibleTypesDiff$ad2[_i22];\n    schemaChanges.push({\n      type: DangerousChangeType.TYPE_ADDED_TO_UNION,\n      description: \"\".concat(newPossibleType.name, \" was added to union type \").concat(oldType.name, \".\")\n    });\n  }\n\n  for (var _i24 = 0, _possibleTypesDiff$re2 = possibleTypesDiff.removed; _i24 < _possibleTypesDiff$re2.length; _i24++) {\n    var oldPossibleType = _possibleTypesDiff$re2[_i24];\n    schemaChanges.push({\n      type: BreakingChangeType.TYPE_REMOVED_FROM_UNION,\n      description: \"\".concat(oldPossibleType.name, \" was removed from union type \").concat(oldType.name, \".\")\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findEnumTypeChanges(oldType, newType) {\n  var schemaChanges = [];\n  var valuesDiff = diff(oldType.getValues(), newType.getValues());\n\n  for (var _i26 = 0, _valuesDiff$added2 = valuesDiff.added; _i26 < _valuesDiff$added2.length; _i26++) {\n    var newValue = _valuesDiff$added2[_i26];\n    schemaChanges.push({\n      type: DangerousChangeType.VALUE_ADDED_TO_ENUM,\n      description: \"\".concat(newValue.name, \" was added to enum type \").concat(oldType.name, \".\")\n    });\n  }\n\n  for (var _i28 = 0, _valuesDiff$removed2 = valuesDiff.removed; _i28 < _valuesDiff$removed2.length; _i28++) {\n    var oldValue = _valuesDiff$removed2[_i28];\n    schemaChanges.push({\n      type: BreakingChangeType.VALUE_REMOVED_FROM_ENUM,\n      description: \"\".concat(oldValue.name, \" was removed from enum type \").concat(oldType.name, \".\")\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findImplementedInterfacesChanges(oldType, newType) {\n  var schemaChanges = [];\n  var interfacesDiff = diff(oldType.getInterfaces(), newType.getInterfaces());\n\n  for (var _i30 = 0, _interfacesDiff$added2 = interfacesDiff.added; _i30 < _interfacesDiff$added2.length; _i30++) {\n    var newInterface = _interfacesDiff$added2[_i30];\n    schemaChanges.push({\n      type: DangerousChangeType.IMPLEMENTED_INTERFACE_ADDED,\n      description: \"\".concat(newInterface.name, \" added to interfaces implemented by \").concat(oldType.name, \".\")\n    });\n  }\n\n  for (var _i32 = 0, _interfacesDiff$remov2 = interfacesDiff.removed; _i32 < _interfacesDiff$remov2.length; _i32++) {\n    var oldInterface = _interfacesDiff$remov2[_i32];\n    schemaChanges.push({\n      type: BreakingChangeType.IMPLEMENTED_INTERFACE_REMOVED,\n      description: \"\".concat(oldType.name, \" no longer implements interface \").concat(oldInterface.name, \".\")\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findFieldChanges(oldType, newType) {\n  var schemaChanges = [];\n  var fieldsDiff = diff(objectValues(oldType.getFields()), objectValues(newType.getFields()));\n\n  for (var _i34 = 0, _fieldsDiff$removed4 = fieldsDiff.removed; _i34 < _fieldsDiff$removed4.length; _i34++) {\n    var oldField = _fieldsDiff$removed4[_i34];\n    schemaChanges.push({\n      type: BreakingChangeType.FIELD_REMOVED,\n      description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" was removed.\")\n    });\n  }\n\n  for (var _i36 = 0, _fieldsDiff$persisted4 = fieldsDiff.persisted; _i36 < _fieldsDiff$persisted4.length; _i36++) {\n    var _ref8 = _fieldsDiff$persisted4[_i36];\n    var _oldField2 = _ref8[0];\n    var newField = _ref8[1];\n    schemaChanges.push.apply(schemaChanges, findArgChanges(oldType, _oldField2, newField));\n    var isSafe = isChangeSafeForObjectOrInterfaceField(_oldField2.type, newField.type);\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.FIELD_CHANGED_KIND,\n        description: \"\".concat(oldType.name, \".\").concat(_oldField2.name, \" changed type from \") + \"\".concat(String(_oldField2.type), \" to \").concat(String(newField.type), \".\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findArgChanges(oldType, oldField, newField) {\n  var schemaChanges = [];\n  var argsDiff = diff(oldField.args, newField.args);\n\n  for (var _i38 = 0, _argsDiff$removed4 = argsDiff.removed; _i38 < _argsDiff$removed4.length; _i38++) {\n    var oldArg = _argsDiff$removed4[_i38];\n    schemaChanges.push({\n      type: BreakingChangeType.ARG_REMOVED,\n      description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(oldArg.name, \" was removed.\")\n    });\n  }\n\n  for (var _i40 = 0, _argsDiff$persisted2 = argsDiff.persisted; _i40 < _argsDiff$persisted2.length; _i40++) {\n    var _ref10 = _argsDiff$persisted2[_i40];\n    var _oldArg = _ref10[0];\n    var newArg = _ref10[1];\n    var isSafe = isChangeSafeForInputObjectFieldOrFieldArg(_oldArg.type, newArg.type);\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.ARG_CHANGED_KIND,\n        description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(_oldArg.name, \" has changed type from \") + \"\".concat(String(_oldArg.type), \" to \").concat(String(newArg.type), \".\")\n      });\n    } else if (_oldArg.defaultValue !== undefined) {\n      if (newArg.defaultValue === undefined) {\n        schemaChanges.push({\n          type: DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,\n          description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(_oldArg.name, \" defaultValue was removed.\")\n        });\n      } else {\n        // Since we looking only for client's observable changes we should\n        // compare default values in the same representation as they are\n        // represented inside introspection.\n        var oldValueStr = stringifyValue(_oldArg.defaultValue, _oldArg.type);\n        var newValueStr = stringifyValue(newArg.defaultValue, newArg.type);\n\n        if (oldValueStr !== newValueStr) {\n          schemaChanges.push({\n            type: DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,\n            description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(_oldArg.name, \" has changed defaultValue from \").concat(oldValueStr, \" to \").concat(newValueStr, \".\")\n          });\n        }\n      }\n    }\n  }\n\n  for (var _i42 = 0, _argsDiff$added4 = argsDiff.added; _i42 < _argsDiff$added4.length; _i42++) {\n    var _newArg = _argsDiff$added4[_i42];\n\n    if (isRequiredArgument(_newArg)) {\n      schemaChanges.push({\n        type: BreakingChangeType.REQUIRED_ARG_ADDED,\n        description: \"A required arg \".concat(_newArg.name, \" on \").concat(oldType.name, \".\").concat(oldField.name, \" was added.\")\n      });\n    } else {\n      schemaChanges.push({\n        type: DangerousChangeType.OPTIONAL_ARG_ADDED,\n        description: \"An optional arg \".concat(_newArg.name, \" on \").concat(oldType.name, \".\").concat(oldField.name, \" was added.\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction isChangeSafeForObjectOrInterfaceField(oldType, newType) {\n  if (isListType(oldType)) {\n    return (// if they're both lists, make sure the underlying types are compatible\n      isListType(newType) && isChangeSafeForObjectOrInterfaceField(oldType.ofType, newType.ofType) || // moving from nullable to non-null of the same underlying type is safe\n      isNonNullType(newType) && isChangeSafeForObjectOrInterfaceField(oldType, newType.ofType)\n    );\n  }\n\n  if (isNonNullType(oldType)) {\n    // if they're both non-null, make sure the underlying types are compatible\n    return isNonNullType(newType) && isChangeSafeForObjectOrInterfaceField(oldType.ofType, newType.ofType);\n  }\n\n  return (// if they're both named types, see if their names are equivalent\n    isNamedType(newType) && oldType.name === newType.name || // moving from nullable to non-null of the same underlying type is safe\n    isNonNullType(newType) && isChangeSafeForObjectOrInterfaceField(oldType, newType.ofType)\n  );\n}\n\nfunction isChangeSafeForInputObjectFieldOrFieldArg(oldType, newType) {\n  if (isListType(oldType)) {\n    // if they're both lists, make sure the underlying types are compatible\n    return isListType(newType) && isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType.ofType);\n  }\n\n  if (isNonNullType(oldType)) {\n    return (// if they're both non-null, make sure the underlying types are\n      // compatible\n      isNonNullType(newType) && isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType.ofType) || // moving from non-null to nullable of the same underlying type is safe\n      !isNonNullType(newType) && isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType)\n    );\n  } // if they're both named types, see if their names are equivalent\n\n\n  return isNamedType(newType) && oldType.name === newType.name;\n}\n\nfunction typeKindName(type) {\n  if (isScalarType(type)) {\n    return 'a Scalar type';\n  }\n\n  if (isObjectType(type)) {\n    return 'an Object type';\n  }\n\n  if (isInterfaceType(type)) {\n    return 'an Interface type';\n  }\n\n  if (isUnionType(type)) {\n    return 'a Union type';\n  }\n\n  if (isEnumType(type)) {\n    return 'an Enum type';\n  } // istanbul ignore else (See: 'https://github.com/graphql/graphql-js/issues/2618')\n\n\n  if (isInputObjectType(type)) {\n    return 'an Input type';\n  } // istanbul ignore next (Not reachable. All possible named types have been considered)\n\n\n  false || invariant(0, 'Unexpected type: ' + inspect(type));\n}\n\nfunction stringifyValue(value, type) {\n  var ast = astFromValue(value, type);\n  ast != null || invariant(0);\n  var sortedAST = visit(ast, {\n    ObjectValue: function ObjectValue(objectNode) {\n      // Make a copy since sort mutates array\n      var fields = [].concat(objectNode.fields);\n      fields.sort(function (fieldA, fieldB) {\n        return naturalCompare(fieldA.name.value, fieldB.name.value);\n      });\n      return _objectSpread(_objectSpread({}, objectNode), {}, {\n        fields: fields\n      });\n    }\n  });\n  return print(sortedAST);\n}\n\nfunction diff(oldArray, newArray) {\n  var added = [];\n  var removed = [];\n  var persisted = [];\n  var oldMap = keyMap(oldArray, function (_ref11) {\n    var name = _ref11.name;\n    return name;\n  });\n  var newMap = keyMap(newArray, function (_ref12) {\n    var name = _ref12.name;\n    return name;\n  });\n\n  for (var _i44 = 0; _i44 < oldArray.length; _i44++) {\n    var oldItem = oldArray[_i44];\n    var newItem = newMap[oldItem.name];\n\n    if (newItem === undefined) {\n      removed.push(oldItem);\n    } else {\n      persisted.push([oldItem, newItem]);\n    }\n  }\n\n  for (var _i46 = 0; _i46 < newArray.length; _i46++) {\n    var _newItem = newArray[_i46];\n\n    if (oldMap[_newItem.name] === undefined) {\n      added.push(_newItem);\n    }\n  }\n\n  return {\n    added: added,\n    persisted: persisted,\n    removed: removed\n  };\n}","map":{"version":3,"sources":["C:/Users/HP/Desktop/project/ecommerce-spring-reactjs-master/frontend/node_modules/graphql/utilities/findBreakingChanges.mjs"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","objectValues","keyMap","inspect","invariant","naturalCompare","print","visit","isSpecifiedScalarType","isScalarType","isObjectType","isInterfaceType","isUnionType","isEnumType","isInputObjectType","isNonNullType","isListType","isNamedType","isRequiredArgument","isRequiredInputField","astFromValue","BreakingChangeType","freeze","TYPE_REMOVED","TYPE_CHANGED_KIND","TYPE_REMOVED_FROM_UNION","VALUE_REMOVED_FROM_ENUM","REQUIRED_INPUT_FIELD_ADDED","IMPLEMENTED_INTERFACE_REMOVED","FIELD_REMOVED","FIELD_CHANGED_KIND","REQUIRED_ARG_ADDED","ARG_REMOVED","ARG_CHANGED_KIND","DIRECTIVE_REMOVED","DIRECTIVE_ARG_REMOVED","REQUIRED_DIRECTIVE_ARG_ADDED","DIRECTIVE_REPEATABLE_REMOVED","DIRECTIVE_LOCATION_REMOVED","DangerousChangeType","VALUE_ADDED_TO_ENUM","TYPE_ADDED_TO_UNION","OPTIONAL_INPUT_FIELD_ADDED","OPTIONAL_ARG_ADDED","IMPLEMENTED_INTERFACE_ADDED","ARG_DEFAULT_VALUE_CHANGE","findBreakingChanges","oldSchema","newSchema","breakingChanges","findSchemaChanges","change","type","findDangerousChanges","dangerousChanges","concat","findTypeChanges","findDirectiveChanges","schemaChanges","directivesDiff","diff","getDirectives","_i2","_directivesDiff$remov2","removed","oldDirective","description","name","_i4","_directivesDiff$persi2","persisted","_ref2","_oldDirective","newDirective","argsDiff","args","_i6","_argsDiff$added2","added","newArg","_i8","_argsDiff$removed2","oldArg","isRepeatable","_i10","_oldDirective$locatio2","locations","location","indexOf","typesDiff","getTypeMap","_i12","_typesDiff$removed2","oldType","_i14","_typesDiff$persisted2","_ref4","_oldType","newType","findEnumTypeChanges","findUnionTypeChanges","findInputObjectTypeChanges","findFieldChanges","findImplementedInterfacesChanges","constructor","typeKindName","fieldsDiff","getFields","_i16","_fieldsDiff$added2","newField","_i18","_fieldsDiff$removed2","oldField","_i20","_fieldsDiff$persisted2","_ref6","_oldField","_newField","isSafe","isChangeSafeForInputObjectFieldOrFieldArg","String","possibleTypesDiff","getTypes","_i22","_possibleTypesDiff$ad2","newPossibleType","_i24","_possibleTypesDiff$re2","oldPossibleType","valuesDiff","getValues","_i26","_valuesDiff$added2","newValue","_i28","_valuesDiff$removed2","oldValue","interfacesDiff","getInterfaces","_i30","_interfacesDiff$added2","newInterface","_i32","_interfacesDiff$remov2","oldInterface","_i34","_fieldsDiff$removed4","_i36","_fieldsDiff$persisted4","_ref8","_oldField2","findArgChanges","isChangeSafeForObjectOrInterfaceField","_i38","_argsDiff$removed4","_i40","_argsDiff$persisted2","_ref10","_oldArg","defaultValue","undefined","oldValueStr","stringifyValue","newValueStr","_i42","_argsDiff$added4","_newArg","ofType","ast","sortedAST","ObjectValue","objectNode","fields","sort","fieldA","fieldB","oldArray","newArray","oldMap","_ref11","newMap","_ref12","_i44","oldItem","newItem","_i46","_newItem"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport objectValues from \"../polyfills/objectValues.mjs\";\nimport keyMap from \"../jsutils/keyMap.mjs\";\nimport inspect from \"../jsutils/inspect.mjs\";\nimport invariant from \"../jsutils/invariant.mjs\";\nimport naturalCompare from \"../jsutils/naturalCompare.mjs\";\nimport { print } from \"../language/printer.mjs\";\nimport { visit } from \"../language/visitor.mjs\";\nimport { isSpecifiedScalarType } from \"../type/scalars.mjs\";\nimport { isScalarType, isObjectType, isInterfaceType, isUnionType, isEnumType, isInputObjectType, isNonNullType, isListType, isNamedType, isRequiredArgument, isRequiredInputField } from \"../type/definition.mjs\";\nimport { astFromValue } from \"./astFromValue.mjs\";\nexport var BreakingChangeType = Object.freeze({\n  TYPE_REMOVED: 'TYPE_REMOVED',\n  TYPE_CHANGED_KIND: 'TYPE_CHANGED_KIND',\n  TYPE_REMOVED_FROM_UNION: 'TYPE_REMOVED_FROM_UNION',\n  VALUE_REMOVED_FROM_ENUM: 'VALUE_REMOVED_FROM_ENUM',\n  REQUIRED_INPUT_FIELD_ADDED: 'REQUIRED_INPUT_FIELD_ADDED',\n  IMPLEMENTED_INTERFACE_REMOVED: 'IMPLEMENTED_INTERFACE_REMOVED',\n  FIELD_REMOVED: 'FIELD_REMOVED',\n  FIELD_CHANGED_KIND: 'FIELD_CHANGED_KIND',\n  REQUIRED_ARG_ADDED: 'REQUIRED_ARG_ADDED',\n  ARG_REMOVED: 'ARG_REMOVED',\n  ARG_CHANGED_KIND: 'ARG_CHANGED_KIND',\n  DIRECTIVE_REMOVED: 'DIRECTIVE_REMOVED',\n  DIRECTIVE_ARG_REMOVED: 'DIRECTIVE_ARG_REMOVED',\n  REQUIRED_DIRECTIVE_ARG_ADDED: 'REQUIRED_DIRECTIVE_ARG_ADDED',\n  DIRECTIVE_REPEATABLE_REMOVED: 'DIRECTIVE_REPEATABLE_REMOVED',\n  DIRECTIVE_LOCATION_REMOVED: 'DIRECTIVE_LOCATION_REMOVED'\n});\nexport var DangerousChangeType = Object.freeze({\n  VALUE_ADDED_TO_ENUM: 'VALUE_ADDED_TO_ENUM',\n  TYPE_ADDED_TO_UNION: 'TYPE_ADDED_TO_UNION',\n  OPTIONAL_INPUT_FIELD_ADDED: 'OPTIONAL_INPUT_FIELD_ADDED',\n  OPTIONAL_ARG_ADDED: 'OPTIONAL_ARG_ADDED',\n  IMPLEMENTED_INTERFACE_ADDED: 'IMPLEMENTED_INTERFACE_ADDED',\n  ARG_DEFAULT_VALUE_CHANGE: 'ARG_DEFAULT_VALUE_CHANGE'\n});\n\n/**\n * Given two schemas, returns an Array containing descriptions of all the types\n * of breaking changes covered by the other functions down below.\n */\nexport function findBreakingChanges(oldSchema, newSchema) {\n  var breakingChanges = findSchemaChanges(oldSchema, newSchema).filter(function (change) {\n    return change.type in BreakingChangeType;\n  });\n  return breakingChanges;\n}\n/**\n * Given two schemas, returns an Array containing descriptions of all the types\n * of potentially dangerous changes covered by the other functions down below.\n */\n\nexport function findDangerousChanges(oldSchema, newSchema) {\n  var dangerousChanges = findSchemaChanges(oldSchema, newSchema).filter(function (change) {\n    return change.type in DangerousChangeType;\n  });\n  return dangerousChanges;\n}\n\nfunction findSchemaChanges(oldSchema, newSchema) {\n  return [].concat(findTypeChanges(oldSchema, newSchema), findDirectiveChanges(oldSchema, newSchema));\n}\n\nfunction findDirectiveChanges(oldSchema, newSchema) {\n  var schemaChanges = [];\n  var directivesDiff = diff(oldSchema.getDirectives(), newSchema.getDirectives());\n\n  for (var _i2 = 0, _directivesDiff$remov2 = directivesDiff.removed; _i2 < _directivesDiff$remov2.length; _i2++) {\n    var oldDirective = _directivesDiff$remov2[_i2];\n    schemaChanges.push({\n      type: BreakingChangeType.DIRECTIVE_REMOVED,\n      description: \"\".concat(oldDirective.name, \" was removed.\")\n    });\n  }\n\n  for (var _i4 = 0, _directivesDiff$persi2 = directivesDiff.persisted; _i4 < _directivesDiff$persi2.length; _i4++) {\n    var _ref2 = _directivesDiff$persi2[_i4];\n    var _oldDirective = _ref2[0];\n    var newDirective = _ref2[1];\n    var argsDiff = diff(_oldDirective.args, newDirective.args);\n\n    for (var _i6 = 0, _argsDiff$added2 = argsDiff.added; _i6 < _argsDiff$added2.length; _i6++) {\n      var newArg = _argsDiff$added2[_i6];\n\n      if (isRequiredArgument(newArg)) {\n        schemaChanges.push({\n          type: BreakingChangeType.REQUIRED_DIRECTIVE_ARG_ADDED,\n          description: \"A required arg \".concat(newArg.name, \" on directive \").concat(_oldDirective.name, \" was added.\")\n        });\n      }\n    }\n\n    for (var _i8 = 0, _argsDiff$removed2 = argsDiff.removed; _i8 < _argsDiff$removed2.length; _i8++) {\n      var oldArg = _argsDiff$removed2[_i8];\n      schemaChanges.push({\n        type: BreakingChangeType.DIRECTIVE_ARG_REMOVED,\n        description: \"\".concat(oldArg.name, \" was removed from \").concat(_oldDirective.name, \".\")\n      });\n    }\n\n    if (_oldDirective.isRepeatable && !newDirective.isRepeatable) {\n      schemaChanges.push({\n        type: BreakingChangeType.DIRECTIVE_REPEATABLE_REMOVED,\n        description: \"Repeatable flag was removed from \".concat(_oldDirective.name, \".\")\n      });\n    }\n\n    for (var _i10 = 0, _oldDirective$locatio2 = _oldDirective.locations; _i10 < _oldDirective$locatio2.length; _i10++) {\n      var location = _oldDirective$locatio2[_i10];\n\n      if (newDirective.locations.indexOf(location) === -1) {\n        schemaChanges.push({\n          type: BreakingChangeType.DIRECTIVE_LOCATION_REMOVED,\n          description: \"\".concat(location, \" was removed from \").concat(_oldDirective.name, \".\")\n        });\n      }\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findTypeChanges(oldSchema, newSchema) {\n  var schemaChanges = [];\n  var typesDiff = diff(objectValues(oldSchema.getTypeMap()), objectValues(newSchema.getTypeMap()));\n\n  for (var _i12 = 0, _typesDiff$removed2 = typesDiff.removed; _i12 < _typesDiff$removed2.length; _i12++) {\n    var oldType = _typesDiff$removed2[_i12];\n    schemaChanges.push({\n      type: BreakingChangeType.TYPE_REMOVED,\n      description: isSpecifiedScalarType(oldType) ? \"Standard scalar \".concat(oldType.name, \" was removed because it is not referenced anymore.\") : \"\".concat(oldType.name, \" was removed.\")\n    });\n  }\n\n  for (var _i14 = 0, _typesDiff$persisted2 = typesDiff.persisted; _i14 < _typesDiff$persisted2.length; _i14++) {\n    var _ref4 = _typesDiff$persisted2[_i14];\n    var _oldType = _ref4[0];\n    var newType = _ref4[1];\n\n    if (isEnumType(_oldType) && isEnumType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findEnumTypeChanges(_oldType, newType));\n    } else if (isUnionType(_oldType) && isUnionType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findUnionTypeChanges(_oldType, newType));\n    } else if (isInputObjectType(_oldType) && isInputObjectType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findInputObjectTypeChanges(_oldType, newType));\n    } else if (isObjectType(_oldType) && isObjectType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findFieldChanges(_oldType, newType).concat(findImplementedInterfacesChanges(_oldType, newType)));\n    } else if (isInterfaceType(_oldType) && isInterfaceType(newType)) {\n      schemaChanges.push.apply(schemaChanges, findFieldChanges(_oldType, newType).concat(findImplementedInterfacesChanges(_oldType, newType)));\n    } else if (_oldType.constructor !== newType.constructor) {\n      schemaChanges.push({\n        type: BreakingChangeType.TYPE_CHANGED_KIND,\n        description: \"\".concat(_oldType.name, \" changed from \") + \"\".concat(typeKindName(_oldType), \" to \").concat(typeKindName(newType), \".\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findInputObjectTypeChanges(oldType, newType) {\n  var schemaChanges = [];\n  var fieldsDiff = diff(objectValues(oldType.getFields()), objectValues(newType.getFields()));\n\n  for (var _i16 = 0, _fieldsDiff$added2 = fieldsDiff.added; _i16 < _fieldsDiff$added2.length; _i16++) {\n    var newField = _fieldsDiff$added2[_i16];\n\n    if (isRequiredInputField(newField)) {\n      schemaChanges.push({\n        type: BreakingChangeType.REQUIRED_INPUT_FIELD_ADDED,\n        description: \"A required field \".concat(newField.name, \" on input type \").concat(oldType.name, \" was added.\")\n      });\n    } else {\n      schemaChanges.push({\n        type: DangerousChangeType.OPTIONAL_INPUT_FIELD_ADDED,\n        description: \"An optional field \".concat(newField.name, \" on input type \").concat(oldType.name, \" was added.\")\n      });\n    }\n  }\n\n  for (var _i18 = 0, _fieldsDiff$removed2 = fieldsDiff.removed; _i18 < _fieldsDiff$removed2.length; _i18++) {\n    var oldField = _fieldsDiff$removed2[_i18];\n    schemaChanges.push({\n      type: BreakingChangeType.FIELD_REMOVED,\n      description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" was removed.\")\n    });\n  }\n\n  for (var _i20 = 0, _fieldsDiff$persisted2 = fieldsDiff.persisted; _i20 < _fieldsDiff$persisted2.length; _i20++) {\n    var _ref6 = _fieldsDiff$persisted2[_i20];\n    var _oldField = _ref6[0];\n    var _newField = _ref6[1];\n    var isSafe = isChangeSafeForInputObjectFieldOrFieldArg(_oldField.type, _newField.type);\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.FIELD_CHANGED_KIND,\n        description: \"\".concat(oldType.name, \".\").concat(_oldField.name, \" changed type from \") + \"\".concat(String(_oldField.type), \" to \").concat(String(_newField.type), \".\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findUnionTypeChanges(oldType, newType) {\n  var schemaChanges = [];\n  var possibleTypesDiff = diff(oldType.getTypes(), newType.getTypes());\n\n  for (var _i22 = 0, _possibleTypesDiff$ad2 = possibleTypesDiff.added; _i22 < _possibleTypesDiff$ad2.length; _i22++) {\n    var newPossibleType = _possibleTypesDiff$ad2[_i22];\n    schemaChanges.push({\n      type: DangerousChangeType.TYPE_ADDED_TO_UNION,\n      description: \"\".concat(newPossibleType.name, \" was added to union type \").concat(oldType.name, \".\")\n    });\n  }\n\n  for (var _i24 = 0, _possibleTypesDiff$re2 = possibleTypesDiff.removed; _i24 < _possibleTypesDiff$re2.length; _i24++) {\n    var oldPossibleType = _possibleTypesDiff$re2[_i24];\n    schemaChanges.push({\n      type: BreakingChangeType.TYPE_REMOVED_FROM_UNION,\n      description: \"\".concat(oldPossibleType.name, \" was removed from union type \").concat(oldType.name, \".\")\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findEnumTypeChanges(oldType, newType) {\n  var schemaChanges = [];\n  var valuesDiff = diff(oldType.getValues(), newType.getValues());\n\n  for (var _i26 = 0, _valuesDiff$added2 = valuesDiff.added; _i26 < _valuesDiff$added2.length; _i26++) {\n    var newValue = _valuesDiff$added2[_i26];\n    schemaChanges.push({\n      type: DangerousChangeType.VALUE_ADDED_TO_ENUM,\n      description: \"\".concat(newValue.name, \" was added to enum type \").concat(oldType.name, \".\")\n    });\n  }\n\n  for (var _i28 = 0, _valuesDiff$removed2 = valuesDiff.removed; _i28 < _valuesDiff$removed2.length; _i28++) {\n    var oldValue = _valuesDiff$removed2[_i28];\n    schemaChanges.push({\n      type: BreakingChangeType.VALUE_REMOVED_FROM_ENUM,\n      description: \"\".concat(oldValue.name, \" was removed from enum type \").concat(oldType.name, \".\")\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findImplementedInterfacesChanges(oldType, newType) {\n  var schemaChanges = [];\n  var interfacesDiff = diff(oldType.getInterfaces(), newType.getInterfaces());\n\n  for (var _i30 = 0, _interfacesDiff$added2 = interfacesDiff.added; _i30 < _interfacesDiff$added2.length; _i30++) {\n    var newInterface = _interfacesDiff$added2[_i30];\n    schemaChanges.push({\n      type: DangerousChangeType.IMPLEMENTED_INTERFACE_ADDED,\n      description: \"\".concat(newInterface.name, \" added to interfaces implemented by \").concat(oldType.name, \".\")\n    });\n  }\n\n  for (var _i32 = 0, _interfacesDiff$remov2 = interfacesDiff.removed; _i32 < _interfacesDiff$remov2.length; _i32++) {\n    var oldInterface = _interfacesDiff$remov2[_i32];\n    schemaChanges.push({\n      type: BreakingChangeType.IMPLEMENTED_INTERFACE_REMOVED,\n      description: \"\".concat(oldType.name, \" no longer implements interface \").concat(oldInterface.name, \".\")\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findFieldChanges(oldType, newType) {\n  var schemaChanges = [];\n  var fieldsDiff = diff(objectValues(oldType.getFields()), objectValues(newType.getFields()));\n\n  for (var _i34 = 0, _fieldsDiff$removed4 = fieldsDiff.removed; _i34 < _fieldsDiff$removed4.length; _i34++) {\n    var oldField = _fieldsDiff$removed4[_i34];\n    schemaChanges.push({\n      type: BreakingChangeType.FIELD_REMOVED,\n      description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" was removed.\")\n    });\n  }\n\n  for (var _i36 = 0, _fieldsDiff$persisted4 = fieldsDiff.persisted; _i36 < _fieldsDiff$persisted4.length; _i36++) {\n    var _ref8 = _fieldsDiff$persisted4[_i36];\n    var _oldField2 = _ref8[0];\n    var newField = _ref8[1];\n    schemaChanges.push.apply(schemaChanges, findArgChanges(oldType, _oldField2, newField));\n    var isSafe = isChangeSafeForObjectOrInterfaceField(_oldField2.type, newField.type);\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.FIELD_CHANGED_KIND,\n        description: \"\".concat(oldType.name, \".\").concat(_oldField2.name, \" changed type from \") + \"\".concat(String(_oldField2.type), \" to \").concat(String(newField.type), \".\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findArgChanges(oldType, oldField, newField) {\n  var schemaChanges = [];\n  var argsDiff = diff(oldField.args, newField.args);\n\n  for (var _i38 = 0, _argsDiff$removed4 = argsDiff.removed; _i38 < _argsDiff$removed4.length; _i38++) {\n    var oldArg = _argsDiff$removed4[_i38];\n    schemaChanges.push({\n      type: BreakingChangeType.ARG_REMOVED,\n      description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(oldArg.name, \" was removed.\")\n    });\n  }\n\n  for (var _i40 = 0, _argsDiff$persisted2 = argsDiff.persisted; _i40 < _argsDiff$persisted2.length; _i40++) {\n    var _ref10 = _argsDiff$persisted2[_i40];\n    var _oldArg = _ref10[0];\n    var newArg = _ref10[1];\n    var isSafe = isChangeSafeForInputObjectFieldOrFieldArg(_oldArg.type, newArg.type);\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.ARG_CHANGED_KIND,\n        description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(_oldArg.name, \" has changed type from \") + \"\".concat(String(_oldArg.type), \" to \").concat(String(newArg.type), \".\")\n      });\n    } else if (_oldArg.defaultValue !== undefined) {\n      if (newArg.defaultValue === undefined) {\n        schemaChanges.push({\n          type: DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,\n          description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(_oldArg.name, \" defaultValue was removed.\")\n        });\n      } else {\n        // Since we looking only for client's observable changes we should\n        // compare default values in the same representation as they are\n        // represented inside introspection.\n        var oldValueStr = stringifyValue(_oldArg.defaultValue, _oldArg.type);\n        var newValueStr = stringifyValue(newArg.defaultValue, newArg.type);\n\n        if (oldValueStr !== newValueStr) {\n          schemaChanges.push({\n            type: DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,\n            description: \"\".concat(oldType.name, \".\").concat(oldField.name, \" arg \").concat(_oldArg.name, \" has changed defaultValue from \").concat(oldValueStr, \" to \").concat(newValueStr, \".\")\n          });\n        }\n      }\n    }\n  }\n\n  for (var _i42 = 0, _argsDiff$added4 = argsDiff.added; _i42 < _argsDiff$added4.length; _i42++) {\n    var _newArg = _argsDiff$added4[_i42];\n\n    if (isRequiredArgument(_newArg)) {\n      schemaChanges.push({\n        type: BreakingChangeType.REQUIRED_ARG_ADDED,\n        description: \"A required arg \".concat(_newArg.name, \" on \").concat(oldType.name, \".\").concat(oldField.name, \" was added.\")\n      });\n    } else {\n      schemaChanges.push({\n        type: DangerousChangeType.OPTIONAL_ARG_ADDED,\n        description: \"An optional arg \".concat(_newArg.name, \" on \").concat(oldType.name, \".\").concat(oldField.name, \" was added.\")\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction isChangeSafeForObjectOrInterfaceField(oldType, newType) {\n  if (isListType(oldType)) {\n    return (// if they're both lists, make sure the underlying types are compatible\n      isListType(newType) && isChangeSafeForObjectOrInterfaceField(oldType.ofType, newType.ofType) || // moving from nullable to non-null of the same underlying type is safe\n      isNonNullType(newType) && isChangeSafeForObjectOrInterfaceField(oldType, newType.ofType)\n    );\n  }\n\n  if (isNonNullType(oldType)) {\n    // if they're both non-null, make sure the underlying types are compatible\n    return isNonNullType(newType) && isChangeSafeForObjectOrInterfaceField(oldType.ofType, newType.ofType);\n  }\n\n  return (// if they're both named types, see if their names are equivalent\n    isNamedType(newType) && oldType.name === newType.name || // moving from nullable to non-null of the same underlying type is safe\n    isNonNullType(newType) && isChangeSafeForObjectOrInterfaceField(oldType, newType.ofType)\n  );\n}\n\nfunction isChangeSafeForInputObjectFieldOrFieldArg(oldType, newType) {\n  if (isListType(oldType)) {\n    // if they're both lists, make sure the underlying types are compatible\n    return isListType(newType) && isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType.ofType);\n  }\n\n  if (isNonNullType(oldType)) {\n    return (// if they're both non-null, make sure the underlying types are\n      // compatible\n      isNonNullType(newType) && isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType.ofType) || // moving from non-null to nullable of the same underlying type is safe\n      !isNonNullType(newType) && isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType)\n    );\n  } // if they're both named types, see if their names are equivalent\n\n\n  return isNamedType(newType) && oldType.name === newType.name;\n}\n\nfunction typeKindName(type) {\n  if (isScalarType(type)) {\n    return 'a Scalar type';\n  }\n\n  if (isObjectType(type)) {\n    return 'an Object type';\n  }\n\n  if (isInterfaceType(type)) {\n    return 'an Interface type';\n  }\n\n  if (isUnionType(type)) {\n    return 'a Union type';\n  }\n\n  if (isEnumType(type)) {\n    return 'an Enum type';\n  } // istanbul ignore else (See: 'https://github.com/graphql/graphql-js/issues/2618')\n\n\n  if (isInputObjectType(type)) {\n    return 'an Input type';\n  } // istanbul ignore next (Not reachable. All possible named types have been considered)\n\n\n  false || invariant(0, 'Unexpected type: ' + inspect(type));\n}\n\nfunction stringifyValue(value, type) {\n  var ast = astFromValue(value, type);\n  ast != null || invariant(0);\n  var sortedAST = visit(ast, {\n    ObjectValue: function ObjectValue(objectNode) {\n      // Make a copy since sort mutates array\n      var fields = [].concat(objectNode.fields);\n      fields.sort(function (fieldA, fieldB) {\n        return naturalCompare(fieldA.name.value, fieldB.name.value);\n      });\n      return _objectSpread(_objectSpread({}, objectNode), {}, {\n        fields: fields\n      });\n    }\n  });\n  return print(sortedAST);\n}\n\nfunction diff(oldArray, newArray) {\n  var added = [];\n  var removed = [];\n  var persisted = [];\n  var oldMap = keyMap(oldArray, function (_ref11) {\n    var name = _ref11.name;\n    return name;\n  });\n  var newMap = keyMap(newArray, function (_ref12) {\n    var name = _ref12.name;\n    return name;\n  });\n\n  for (var _i44 = 0; _i44 < oldArray.length; _i44++) {\n    var oldItem = oldArray[_i44];\n    var newItem = newMap[oldItem.name];\n\n    if (newItem === undefined) {\n      removed.push(oldItem);\n    } else {\n      persisted.push([oldItem, newItem]);\n    }\n  }\n\n  for (var _i46 = 0; _i46 < newArray.length; _i46++) {\n    var _newItem = newArray[_i46];\n\n    if (oldMap[_newItem.name] === undefined) {\n      added.push(_newItem);\n    }\n  }\n\n  return {\n    added: added,\n    persisted: persisted,\n    removed: removed\n  };\n}\n"]},"metadata":{},"sourceType":"module"}